# Инструкция по созданию собственной темы для программы

Ниже приведена подробная инструкция по созданию собственной темы для программы, основанная на представленном коде модуля системы тем.

---

## 1. Создание папки темы

- **Расположение:**  
  Темы ищутся в каталогах:
  - `XDG_DATA_HOME/PortProtonQT/themes` (обычно `~/.local/share/PortProtonQT/themes`)
  - или в папке `themes`, расположенной рядом с модулем программы.

- **Действия:**  
  Создайте новую папку с именем вашей темы, например, `my_custom_theme`.

---

## 2. Файл стилей – `styles.py` и использование функций

- **Обязателен:**  
  В корне вашей темы должен находиться файл `styles.py`. Именно он содержит настройки оформления, которые будут использоваться программой.

- **Что реализовать:**  
  Определите в файле необходимые переменные и атрибуты, например:
  - `TAB_TITLE_STYLE`
  - `COMBO_BOX_STYLE`
  - `MAIN_WINDOW_STYLE`
  - `ADD_GAME_BUTTON_STYLE`  
  и любые другие стили, используемые в интерфейсе.  
  Если какой-то атрибут не определён, система возьмёт его значение из стандартной темы (`standart_lite`).

- **Использование функций для динамических стилей:**  
  Файл `styles.py` — это обычный Python-скрипт, в котором можно не только определять переменные для стилей, но и писать функции, возвращающие строки с CSS или другой полезной информацией для интерфейса. Это позволяет динамически изменять оформление элементов в зависимости от параметров или условий.

  ### Пример: Динамический градиент

  В стандартной теме реализована функция для создания динамического градиента, которая используется для оформления деталей страницы игры:

  ```python
  # ФУНКЦИЯ ДЛЯ ДИНАМИЧЕСКОГО ГРАДИЕНТА (ДЕТАЛИ ИГР)
  # Функции из стандартной темы (`standart_lite`) срабатывают всегда вне зависимости от выбранной темы,
  # функции из других тем работают только в этих темах
  def detail_page_style(stops):
      return f"""
      QWidget {{
          background: qlineargradient(x1:0, y1:0, x2:1, y2:1,
                                      {stops});
      }}
  """
 ```

---

## 3. Файл метаинформации – `metainfo.ini`

- **Назначение:**  
  Файл содержит данные о теме, которые отображаются в интерфейсе (название, описание, автор и ссылка на автора).

- **Пример содержания файла:**

  ```ini
  [Metainfo]
  name = My Custom Theme
  author = Ваше имя
  author_link = https://example.com
  description = Краткое описание вашей темы.
  ```

- **Расположение:**  
   Файл должен находиться в корне папки вашей темы.
   
---

## 4. Скриншоты темы

**Папка:**  
Создайте в папке вашей темы подпапку `screenshots` и поместите туда изображения, демонстрирующие внешний вид вашей темы.

**Размеры:**  
В коде вкладки для тем скриншоты масштабируются до высоты **300 пикселей** с использованием:

```python
scaled = pixmap.scaledToHeight(300, QtCore.Qt.SmoothTransformation)
```

Это означает, что при предпросмотре изображения будут иметь высоту 300 пикселей. Рекомендуется использовать изображения с достаточным разрешением, чтобы при масштабировании они сохраняли качество.

---

## 5. Пользовательские шрифты (опционально)

**Папка:**  
Если вы хотите использовать особые шрифты, создайте в папке вашей темы директорию `fonts`.

**Что положить:**  
Разместите в ней файлы шрифтов формата `.ttf`. Функция `load_theme_fonts` автоматически загрузит все шрифты из этой папки.

## 6. Логотип темы

**Файлы:**  
Для логотипа темы обязательно добавьте в корень папки один из следующих файлов:
- `theme_logo.svg` (приоритетный вариант),  
- или `theme_logo.png`.

**Назначение:**  
Программа использует логотип в интерфейсе, поэтому без него тема будет неполноценной. Логотип помогает визуально идентифицировать тему и размещается, например, в верхнем углу приложения.

---
